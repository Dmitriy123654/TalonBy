<header>
  <div class="wrapper">
    <a class="logo" routerLink="/">ОнлайMed</a>
    
    <nav class="menu-container">
      <ul class="header-menu">
        <li><a routerLink="/order">Талоны</a></li>
        <!-- <li><a routerLink="/paid-services">Платные услуги</a></li> -->
        <!-- <li><a routerLink="/medical-institutions">Медучреждения</a></li> -->
        <!-- <li><a routerLink="/analyses">Анализы</a></li> -->
        <!-- <li><a routerLink="/medicines">Лекарства</a></li> -->
        <!-- <li><a routerLink="/blog">Блог</a></li> -->
      </ul>
    </nav>

    <div class="right">
      <!-- Show login link if not logged in -->
      <a *ngIf="!isLoggedIn" routerLink="/login" class="login-link">Войти</a>
      
      <!-- Show profile link if logged in -->
      <a *ngIf="isLoggedIn" routerLink="/profile" class="login-link">Профиль</a>
      
      <!-- Add admin settings icon when logged in and no burger menu is visible and has admin access -->
      <a *ngIf="isLoggedIn && hasAdminAccess" routerLink="/admin" class="admin-link hide-on-mobile">
        <i class="fas fa-cog"></i>
      </a>
      
      <div class="theme-selector desktop-theme-selector">
        <button class="theme-toggle" (click)="toggleTheme()" [title]="getNextTheme().name">
          <span>{{ getCurrentThemeIcon() }}</span>
        </button>
      </div>
      <div class="theme-selector mobile-theme-selector">
        <button class="theme-toggle" (click)="toggleTheme()" [title]="getNextTheme().name">
          <span>{{ getCurrentThemeIcon() }}</span>
        </button>
      </div>
      <button class="burger-menu" (click)="toggleMenu()">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <!-- <a routerLink="/login" class="[queryParams]="{mode: 'register'}">Регистрация</a> -->
    </div>
  </div>

  <!-- Мобильное меню -->
  <div class="mobile-menu" [class.active]="isMenuOpen">
    <nav>
      <ul>
        <!-- Add admin settings as first item when logged in and has admin access -->
        <li *ngIf="isLoggedIn && hasAdminAccess"><a routerLink="/admin">Настройки</a></li>
        <li><a routerLink="/order">Талоны</a></li>
        <!-- <li><a routerLink="/paid-services">Платные услуги</a></li> -->
        <li><a routerLink="/medical-institutions">Медучреждения</a></li>
        <!-- <li><a routerLink="/analyses">Анализы</a></li> -->
        <li><a routerLink="/medicines">Лекарства</a></li>
        <!-- <li><a routerLink="/blog">Блог</a></li> -->
        <li *ngIf="isLoggedIn"><a routerLink="/profile">Профиль</a></li>
        <li *ngIf="isLoggedIn"><a href="#" (click)="logout(); $event.preventDefault()">Выйти</a></li>
        <li *ngIf="!isLoggedIn"><a routerLink="/login">Войти</a></li>
      </ul>
    </nav>
  </div>
</header>
